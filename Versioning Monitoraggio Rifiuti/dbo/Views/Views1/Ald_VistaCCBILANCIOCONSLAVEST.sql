CREATE VIEW dbo.Ald_VistaCCBILANCIOCONSLAVEST
AS
SELECT     AnagraficaCommesse.TipoCom, AnagraficaCommesse.StatoCommessa, dbo.TABCATEGORIE.ClasseArticoloID, dbo.CCBILANCIOCONSLAVEST.*, 
                      dbo.RIGHEDOCUMENTI.IDTESTARP AS IDTESTARP, dbo.RIGHEDOCUMENTI.IDRIGARP AS IDRIGARP, 
                      dbo.RIGHEDOCUMENTI.TIPODOC AS TIPODOC_PRINCIPALE, ISNULL(RIGHEDOCUMENTI_1.IDTESTARP, 0) AS IDTESTA_1SE, 
                      ISNULL(RIGHEDOCUMENTI_1.IDRIGARP, 0) AS IDRIGA_1SE
FROM         dbo.RIGHEDOCUMENTI LEFT OUTER JOIN
                      dbo.RIGHEDOCUMENTI RIGHEDOCUMENTI_1 ON dbo.RIGHEDOCUMENTI.IDTESTARP = RIGHEDOCUMENTI_1.IDTESTA AND 
                      dbo.RIGHEDOCUMENTI.IDRIGARP = RIGHEDOCUMENTI_1.IDRIGA RIGHT OUTER JOIN
                      dbo.CCBILANCIOCONSLAVEST INNER JOIN
                      dbo.AnagraficaCommesse AnagraficaCommesse ON dbo.CCBILANCIOCONSLAVEST.IDCOMMCLI = AnagraficaCommesse.Progressivo INNER JOIN
                      dbo.TABCATEGORIE INNER JOIN
                      dbo.ANAGRAFICAARTICOLI ANAGRAFICAARTICOLI ON dbo.TABCATEGORIE.CODICE = ANAGRAFICAARTICOLI.CATEGORIA ON 
                      dbo.CCBILANCIOCONSLAVEST.CODART = ANAGRAFICAARTICOLI.CODICE ON 
                      dbo.RIGHEDOCUMENTI.IDTESTA = dbo.CCBILANCIOCONSLAVEST.IDTESTADOC AND 
                      dbo.RIGHEDOCUMENTI.IDRIGA = dbo.CCBILANCIOCONSLAVEST.IDRIGADOC

GO
GRANT DELETE
    ON OBJECT::[dbo].[Ald_VistaCCBILANCIOCONSLAVEST] TO [Metodo98]
    AS [dbo];


GO
GRANT INSERT
    ON OBJECT::[dbo].[Ald_VistaCCBILANCIOCONSLAVEST] TO [Metodo98]
    AS [dbo];


GO
GRANT REFERENCES
    ON OBJECT::[dbo].[Ald_VistaCCBILANCIOCONSLAVEST] TO [Metodo98]
    AS [dbo];


GO
GRANT SELECT
    ON OBJECT::[dbo].[Ald_VistaCCBILANCIOCONSLAVEST] TO [Metodo98]
    AS [dbo];


GO
GRANT UPDATE
    ON OBJECT::[dbo].[Ald_VistaCCBILANCIOCONSLAVEST] TO [Metodo98]
    AS [dbo];

