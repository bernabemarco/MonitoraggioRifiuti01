
CREATE VIEW TP_VISTATMPDOCNONEVAD AS
    SELECT  DISTINCT IDSESSIONE,PROGRMISS,PROGDOC,
            TESTEDOCUMENTI.TIPODOC,TESTEDOCUMENTI.ESERCIZIO,
            TESTEDOCUMENTI.NUMERODOC,TESTEDOCUMENTI.NUMRIFDOC,TESTEDOCUMENTI.BIS,
            TESTEDOCUMENTI.DATADOC,TESTEDOCUMENTI.CODCLIFOR,ANAGRAFICACF.DSCCONTO1,
            TESTEDOCUMENTI.NUMDESTDIVERSAMERCI,TESTEDOCUMENTI.RAGSOCDDM,
            TESTEDOCUMENTI.INDIRIZZODDM,TESTEDOCUMENTI.CAPDDM,TESTEDOCUMENTI.LOCALITADDM,TESTEDOCUMENTI.PROVINCIADDM      
    FROM TMPTabDocMissNonEvadibili 
    INNER JOIN TESTEDOCUMENTI ON TMPTabDocMissNonEvadibili.PROGDOC=TESTEDOCUMENTI.PROGRESSIVO
    INNER JOIN ANAGRAFICACF ON TESTEDOCUMENTI.CODCLIFOR=ANAGRAFICACF.CODCONTO
    WHERE 
    TMPTabDocMissNonEvadibili.MANCAGIAC IN (1,2,3)  


GO
GRANT SELECT
    ON OBJECT::[dbo].[TP_VISTATMPDOCNONEVAD] TO [Metodo98]
    AS [dbo];

