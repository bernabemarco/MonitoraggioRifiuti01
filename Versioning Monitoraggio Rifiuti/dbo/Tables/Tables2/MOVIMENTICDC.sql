CREATE TABLE [dbo].[MOVIMENTICDC] (
    [PROGRESSIVO]      DECIMAL (10)    NOT NULL,
    [TIPOMOV]          SMALLINT        DEFAULT (0) NOT NULL,
    [ESERCIZIO]        DECIMAL (5)     NOT NULL,
    [IDRIFERIMENTO]    DECIMAL (10)    NULL,
    [NRRIGA]           SMALLINT        NOT NULL,
    [POSIZIONE]        SMALLINT        NOT NULL,
    [DATAREG]          DATETIME        NOT NULL,
    [ANNO]             SMALLINT        NULL,
    [MESE]             SMALLINT        NULL,
    [NUMDOC]           VARCHAR (12)    NULL,
    [DATARIF]          DATETIME        NULL,
    [NUMRIF]           VARCHAR (15)    NULL,
    [CODGENERICO]      VARCHAR (7)     NULL,
    [CODCONTOCC]       VARCHAR (10)    NULL,
    [PRCRIPARTIZIONE]  DECIMAL (8, 5)  DEFAULT (0) NOT NULL,
    [IMPORTORIP]       DECIMAL (19, 4) DEFAULT (0) NOT NULL,
    [IMPORTORIPEURO]   DECIMAL (19, 4) DEFAULT (0) NOT NULL,
    [SEGNO]            SMALLINT        DEFAULT (0) NULL,
    [CODCOMMESSA]      VARCHAR (30)    NULL,
    [UTENTEMODIFICA]   VARCHAR (25)    NOT NULL,
    [DATAMODIFICA]     DATETIME        NOT NULL,
    [NOTE]             VARCHAR (255)   NULL,
    [IDCDC]            VARCHAR (80)    CONSTRAINT [DF_MOVIMENTICDC_IDCDC] DEFAULT ('') NULL,
    [IMPORTORIPVALUTA] DECIMAL (19, 4) NULL,
    CONSTRAINT [PK_MOVIMENTICDC] PRIMARY KEY CLUSTERED ([PROGRESSIVO] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [CKC_SEGNO_MOVIMENT] CHECK ([SEGNO] = 0 or [SEGNO] = 1)
);


GO
CREATE NONCLUSTERED INDEX [MOVCDC_CC]
    ON [dbo].[MOVIMENTICDC]([CODCONTOCC] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [MOVCDC_GEN]
    ON [dbo].[MOVIMENTICDC]([CODGENERICO] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [MOVCDC_TD]
    ON [dbo].[MOVIMENTICDC]([IDRIFERIMENTO] ASC) WITH (FILLFACTOR = 90);


GO
CREATE UNIQUE NONCLUSTERED INDEX [MOVCDC]
    ON [dbo].[MOVIMENTICDC]([TIPOMOV] ASC, [IDRIFERIMENTO] ASC, [NRRIGA] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [MOVCDCPOS]
    ON [dbo].[MOVIMENTICDC]([TIPOMOV] ASC, [IDRIFERIMENTO] ASC, [POSIZIONE] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [MOVCDCESERCIZIO]
    ON [dbo].[MOVIMENTICDC]([ESERCIZIO] ASC) WITH (FILLFACTOR = 90);


GO
GRANT DELETE
    ON OBJECT::[dbo].[MOVIMENTICDC] TO [Metodo98]
    AS [dbo];


GO
GRANT INSERT
    ON OBJECT::[dbo].[MOVIMENTICDC] TO [Metodo98]
    AS [dbo];


GO
GRANT REFERENCES
    ON OBJECT::[dbo].[MOVIMENTICDC] TO [Metodo98]
    AS [dbo];


GO
GRANT SELECT
    ON OBJECT::[dbo].[MOVIMENTICDC] TO [Metodo98]
    AS [dbo];


GO
GRANT UPDATE
    ON OBJECT::[dbo].[MOVIMENTICDC] TO [Metodo98]
    AS [dbo];

