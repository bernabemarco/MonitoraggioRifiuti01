CREATE TABLE [dbo].[RIGHEPROVVIGIONI] (
    [RIFPROGRESSIVO]  DECIMAL (10)    NOT NULL,
    [NRRIGA]          SMALLINT        NOT NULL,
    [PROVVIGIONE]     VARCHAR (10)    NULL,
    [DASCONTO]        DECIMAL (8, 5)  CONSTRAINT [DF__RIGHEPROV__DASCO__544C7222] DEFAULT (0) NOT NULL,
    [DAIMPORTO]       DECIMAL (19, 4) CONSTRAINT [DF__RIGHEPROV__DAIMP__5540965B] DEFAULT (0) NOT NULL,
    [DAIMPORTOEURO]   DECIMAL (19, 4) CONSTRAINT [DF__RIGHEPROV__DAIMP__5634BA94] DEFAULT (0) NOT NULL,
    [UM]              VARCHAR (3)     NOT NULL,
    [DAQTA]           DECIMAL (16, 6) CONSTRAINT [DF__RIGHEPROV__DAQTA__5728DECD] DEFAULT (0) NOT NULL,
    [DAFATTURATO]     DECIMAL (19, 4) CONSTRAINT [DF__RIGHEPROV__DAFAT__581D0306] DEFAULT (0) NOT NULL,
    [DAFATTURATOEURO] DECIMAL (19, 4) CONSTRAINT [DF__RIGHEPROV__DAFAT__5911273F] DEFAULT (0) NOT NULL,
    [PROVVAGG]        SMALLINT        CONSTRAINT [DF__RIGHEPROV__PROVV__5A054B78] DEFAULT (0) NULL,
    [UTENTEMODIFICA]  VARCHAR (25)    NOT NULL,
    [DATAMODIFICA]    DATETIME        NOT NULL,
    [NCampagna]       VARCHAR (3)     CONSTRAINT [DF_RIGHEPROVVIGIONI_NCAMPAGNA] DEFAULT ('') NULL,
    [NPromozione]     VARCHAR (4)     CONSTRAINT [DF_RIGHEPROVVIGIONI_NPROMOZIONE] DEFAULT ('') NULL,
    CONSTRAINT [PK_RIGHEPROVVIGIONI] PRIMARY KEY CLUSTERED ([RIFPROGRESSIVO] ASC, [NRRIGA] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [CKC_PROVVAGG_RIGHEPRO] CHECK ([PROVVAGG] = 0 or [PROVVAGG] = 1),
    CONSTRAINT [FK_RIGHEPROVVIGIONI_RIFPROGRESSIVO] FOREIGN KEY ([RIFPROGRESSIVO]) REFERENCES [dbo].[TABPROVVIGIONI] ([PROGRESSIVO]) ON DELETE CASCADE ON UPDATE CASCADE
);


GO
CREATE NONCLUSTERED INDEX [RPRV_DAFATTURATO]
    ON [dbo].[RIGHEPROVVIGIONI]([DAFATTURATO] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [RPRV_DAIMPORTO]
    ON [dbo].[RIGHEPROVVIGIONI]([DAIMPORTO] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [RPRV_DAQTA]
    ON [dbo].[RIGHEPROVVIGIONI]([DAQTA] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [RPRV_DASCONTO]
    ON [dbo].[RIGHEPROVVIGIONI]([DASCONTO] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [RPRV_ORDINAM]
    ON [dbo].[RIGHEPROVVIGIONI]([DASCONTO] ASC, [DAFATTURATO] ASC, [DAIMPORTO] ASC, [DAQTA] ASC) WITH (FILLFACTOR = 90);


GO
GRANT DELETE
    ON OBJECT::[dbo].[RIGHEPROVVIGIONI] TO [Metodo98]
    AS [dbo];


GO
GRANT INSERT
    ON OBJECT::[dbo].[RIGHEPROVVIGIONI] TO [Metodo98]
    AS [dbo];


GO
GRANT REFERENCES
    ON OBJECT::[dbo].[RIGHEPROVVIGIONI] TO [Metodo98]
    AS [dbo];


GO
GRANT SELECT
    ON OBJECT::[dbo].[RIGHEPROVVIGIONI] TO [Metodo98]
    AS [dbo];


GO
GRANT UPDATE
    ON OBJECT::[dbo].[RIGHEPROVVIGIONI] TO [Metodo98]
    AS [dbo];

