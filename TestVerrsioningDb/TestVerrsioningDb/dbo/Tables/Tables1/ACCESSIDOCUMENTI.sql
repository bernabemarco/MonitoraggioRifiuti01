CREATE TABLE [dbo].[ACCESSIDOCUMENTI] (
    [CODDOCUMENTO]   VARCHAR (3)  NOT NULL,
    [NOMEUTENTE]     VARCHAR (25) NOT NULL,
    [TIPORIGHE]      VARCHAR (3)  NULL,
    [TIPOPIEDE]      VARCHAR (3)  NULL,
    [FLAGABILITA]    SMALLINT     DEFAULT (0) NULL,
    [UTENTEMODIFICA] VARCHAR (25) NOT NULL,
    [DATAMODIFICA]   DATETIME     NOT NULL,
    [PERSRIGHEDOC]   SMALLINT     CONSTRAINT [DF_ACCESSIDOC_PERSRIGHE] DEFAULT (0) NULL,
    [FLAGVISUALIZZA] SMALLINT     CONSTRAINT [DF_ACCESSIDOC_FLAGVISUALIZZA] DEFAULT (0) NULL,
    [FLAGPRELEVA]    SMALLINT     CONSTRAINT [DF_ACCESSIDOC_FLAGPRELEVA] DEFAULT (0) NULL,
    CONSTRAINT [PK_ACCESSIDOCUMENTI] PRIMARY KEY CLUSTERED ([CODDOCUMENTO] ASC, [NOMEUTENTE] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [CKC_FLAGABILITA_ACCESSID] CHECK ([FLAGABILITA] = 0 or [FLAGABILITA] = 1),
    CONSTRAINT [FK_ACCESSIDOCUMENTI_CODDOCUMENTO] FOREIGN KEY ([CODDOCUMENTO]) REFERENCES [dbo].[PARAMETRIDOC] ([CODICE]) ON DELETE CASCADE ON UPDATE CASCADE
);


GO
CREATE NONCLUSTERED INDEX [PARAMETRIDOC_FK]
    ON [dbo].[ACCESSIDOCUMENTI]([CODDOCUMENTO] ASC) WITH (FILLFACTOR = 90);


GO
CREATE NONCLUSTERED INDEX [UTENTEDOC]
    ON [dbo].[ACCESSIDOCUMENTI]([NOMEUTENTE] ASC) WITH (FILLFACTOR = 90);


GO
GRANT DELETE
    ON OBJECT::[dbo].[ACCESSIDOCUMENTI] TO [Metodo98]
    AS [dbo];


GO
GRANT INSERT
    ON OBJECT::[dbo].[ACCESSIDOCUMENTI] TO [Metodo98]
    AS [dbo];


GO
GRANT REFERENCES
    ON OBJECT::[dbo].[ACCESSIDOCUMENTI] TO [Metodo98]
    AS [dbo];


GO
GRANT SELECT
    ON OBJECT::[dbo].[ACCESSIDOCUMENTI] TO [Metodo98]
    AS [dbo];


GO
GRANT UPDATE
    ON OBJECT::[dbo].[ACCESSIDOCUMENTI] TO [Metodo98]
    AS [dbo];

