CREATE TABLE [dbo].[RIGHEIVATF] (
    [TIPOREGISTRO]     DECIMAL (5)     NOT NULL,
    [NRREG]            DECIMAL (10)    NOT NULL,
    [NRRIGA]           SMALLINT        NOT NULL,
    [ESERCIZIO]        DECIMAL (5)     NOT NULL,
    [POSIZIONE]        SMALLINT        NOT NULL,
    [DATADOC]          DATETIME        NULL,
    [NUMDOC]           VARCHAR (12)    NULL,
    [CODIVA]           DECIMAL (5)     NULL,
    [ALIQUOTA]         DECIMAL (8, 5)  DEFAULT (0) NOT NULL,
    [CODCAMBIO]        DECIMAL (5)     NULL,
    [VALORECAMBIO]     DECIMAL (13, 6) DEFAULT (1) NOT NULL,
    [IMPONIBILE]       DECIMAL (19, 4) DEFAULT (0) NOT NULL,
    [IMPOSTA]          DECIMAL (19, 4) DEFAULT (0) NOT NULL,
    [IMPONIBILEEURO]   DECIMAL (19, 4) DEFAULT (0) NOT NULL,
    [IMPOSTAEURO]      DECIMAL (19, 4) DEFAULT (0) NOT NULL,
    [CONTO]            VARCHAR (7)     NULL,
    [DATASTAMPA]       DATETIME        NULL,
    [NOTAACCR]         SMALLINT        DEFAULT (0) NULL,
    [MESELIQUIDAZ]     SMALLINT        NULL,
    [UTENTEMODIFICA]   VARCHAR (25)    NOT NULL,
    [DATAMODIFICA]     DATETIME        NOT NULL,
    [ANNOLIQUIDAZ]     NUMERIC (5)     NULL,
    [IMPONIBILEVALUTA] DECIMAL (19, 4) NULL,
    [IMPOSTAVALUTA]    DECIMAL (19, 4) NULL,
    [NUMPROTORIGSOSP]  VARCHAR (12)    NULL,
    [ANNODOCORIGSOSP]  DECIMAL (5)     CONSTRAINT [DF_RIGHEIVATF_ANNODOCORIGSOSP] DEFAULT ((0)) NULL,
    [RIFSCADRIGSOSP]   DECIMAL (10)    NULL,
    CONSTRAINT [PK_RIGHEIVATF] PRIMARY KEY CLUSTERED ([TIPOREGISTRO] ASC, [NRREG] ASC, [NRRIGA] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [CKC_NOTAACCR_RIGHEIVATF] CHECK ([NOTAACCR] = 0 or [NOTAACCR] = 1),
    CONSTRAINT [FK_RIGHEIVATF_NRREG] FOREIGN KEY ([NRREG]) REFERENCES [dbo].[TESTECONTABILITATF] ([PROGRESSIVO]) ON DELETE CASCADE ON UPDATE CASCADE
);


GO
CREATE NONCLUSTERED INDEX [RGIVATF_POS]
    ON [dbo].[RIGHEIVATF]([POSIZIONE] ASC) WITH (FILLFACTOR = 90);


GO
GRANT DELETE
    ON OBJECT::[dbo].[RIGHEIVATF] TO [Metodo98]
    AS [dbo];


GO
GRANT INSERT
    ON OBJECT::[dbo].[RIGHEIVATF] TO [Metodo98]
    AS [dbo];


GO
GRANT REFERENCES
    ON OBJECT::[dbo].[RIGHEIVATF] TO [Metodo98]
    AS [dbo];


GO
GRANT SELECT
    ON OBJECT::[dbo].[RIGHEIVATF] TO [Metodo98]
    AS [dbo];


GO
GRANT UPDATE
    ON OBJECT::[dbo].[RIGHEIVATF] TO [Metodo98]
    AS [dbo];

